<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employee Chatbot</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='asset/logo.png') }}" />
    <!-- Font Awesome 5 (Free CDN) -->
    <script src="https://kit.fontawesome.com/edf703edf4.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Sidebar Toggle Button -->
    <div class="position-relative">
        <button id="sidebarToggle" class="btn btn-primary position-fixed top-0 start-0 m-3" type="button"
            style="z-index: 1050; position: absolute;">
            <i class="fas fa-bars"></i>
        </button>
    </div>


    <!-- Sidebar -->
    <nav class="sidebar d-flex flex-column justify-content-between" id="sidebar">
        <div>
            <!-- Sidebar Header -->
            <div class="sidebar-header border-bottom d-flex p-3">
                <img src="{{ url_for('static', filename='asset/green-blue-logo.png') }}" alt="Company Logo"
                    class="sidebar-logo" />
            </div>

            <!-- Navigation -->
            <div class="flex-grow-1 chat-history-container overflow-auto">
                <ul class="nav nav-pills flex-column sidebar-nav" id="historyDateList">
                    <!-- Date buttons will be dynamically inserted here -->
                </ul>
            </div>
        </div>
        <!-- Sidebar Footer -->
        <div class="border-top p-3">
            <small class="text-muted nav-text">Employee Chatbot v1.0</small>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container-fluid">
            <!-- Logo Section -->
            <div class="row">
                <div class="col-12 company-logo text-center mb-4">
                    <img src="{{ url_for('static', filename='asset/white-blue-logo.png') }}" alt="Company Logo"
                        class="img-fluid" style="max-height: 60px;">
                </div>
            </div>
            <div id="chat-loading" class="loading-overlay">
                <img src="{{ url_for('static', filename='asset/loading-screen.gif') }}" alt="Loading..." class="loading-spinner">
            </div>
            <div id="chat-history" class="chat-box">
                <div class="">
                    ðŸ‘‹ Welcome! How can I help you today? Here are some popular questions to get started.
                </div>

                <div id="faq-suggestions" style="display: none;" class="mb-3 px-3">
                    <ul id="faq-list" class="list-unstyled mb-0"></ul>
                </div>
            </div>
        </div>


        <!-- Chat Input Container -->
        <div class="chat-container">
            <div class="input-group">
                <textarea class="form-control" id="chat-input" placeholder="Ask anything..." rows="1"
                    style="max-height: 120px;"></textarea>
                <button class="btn btn-primary btn-send" type="button" id="send-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- Confirm Delete Modal -->
    <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmModalLabel">
                        <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                        Confirm Delete
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-0">Are you sure you want to delete this chat history? This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-2"></i>Cancel
                    </button>
                    <button type="button" class="btn btn-danger" id="confirmDelete">
                        <i class="fas fa-trash me-2"></i>Delete
                    </button>
                </div>
            </div>
        </div>
        </main>

        <!-- JavaScript -->
        <script src="{{ url_for('static', filename='script.js') }}"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>